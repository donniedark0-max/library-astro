---
import { BOOKS } from "@/consts/books";
import { AUTHORS } from "@/consts/authors";

// Función para encontrar el nombre del autor
function getAuthorName(authorId: any) {
    const author = AUTHORS.find(author => author.id === authorId);
    return author ? author.name : "Autor desconocido";
}
---

<section class="books-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 p-6">
    {BOOKS.map((book) => (
        <div accesskey={book.id} class="book-item bg-slate-900 rounded-xl p-4 transition-transform transform hover:scale-105">
            <picture>
                <img src={book.coverImageUrl} alt={`Portada de ${book.name}`} class="w-full h-[400px] rounded-lg mb-4 object-cover"/>
            </picture>
            <h3 class="text-2xl font-semibold text-white">{book.name}</h3>
            <p class="text-gray-400 text-center">{getAuthorName(book.authorId)}</p>
            <p class="text-gray-400">Páginas: {book.pageCount}</p>
            <p class="text-gray-400">Género: {book.genre}</p>
            <p class="text-gray-300 mt-2">{book.synopsis}</p>
            <a href={`/books/${book.id}`} class="block mt-4 text-blue-500 underline">
                Leer más
            </a>
        </div>
    ))}
</section>